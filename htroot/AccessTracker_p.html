<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': Access Tracker</title>
    #%env/templates/metas.template%#
  </head>
  <body id="AccessTracker">
    #%env/templates/header.template%#
    #%env/templates/submenuAccessTracker.template%#
    #(page)#
    <h2>Server Access Overview</h2>
    <p>This is a list of requests to the local http server within the last hour.</p>
    <p>Showing #[num]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td rowspan="2">Host</td>
        <td colspan="4">Access Count During</td>
      </tr>
      <tr class="TableHeader">
        <td>last Second</td>
        <td>last Minute</td>
        <td>last 10 Minutes</td>
        <td>last Hour</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td><a href="AccessTracker_p.html?page=1&host=#[host]#">#[host]#</a></td>
        <td>#[countSecond]#</td>
        <td>#[countMinute]#</td>
        <td>#[count10Minutes]#</td>
        <td>#[countHour]#</td>
      </tr>
      #{/list}#
    </table>
    ::
    <h2>Server Access Details</h2>
    <p>This is a list of requests to the local http server within the last hour.</p>
    <p>Showing #[num]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td>Host</td>
        <td>Date</td>
        <td>Path</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[host]#</td>
        <td>#[date]#</td>
        <td>#[path]#</td>
      </tr>
      #{/list}#
    </table>
    ::
    <h2>Local Search Log</h2>
    <p>This is a list of searches that had been requested from this' peer search interface</p>
    <p>Showing #[num]# entries from a total of #[total]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td>Requesting Host</td>
        <td>Date</td>
        <td>Offset</td>
        <td>Expected Results</td>
        <td>Returned Results</td>
        <td>Used Time (ms)</td>
        <td>URL fetch (ms)</td>
        <td>Snippet comp (ms)</td>
        <td>Query</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[host]#</td>
        <td>#[date]#</td>
        <td>#[offset]#</td>
        <td>#[querycount]#</td>
        <td>#[resultcount]#</td>
        <td>#[resulttime]#</td>
        <td>#[urltime]#</td>
        <td>#[snippettime]#</td>
        <td>#[querystring]#</td>
      </tr>
      #{/list}#
      <tr class="TableHeader">
        <td></td>
        <td></td>
        <td></td>
        <td>&#216; #[querycount_avg]#</td>
        <td>&#216; #[resultcount_avg]#</td>
        <td>&#216; #[resulttime_avg]#</td>
        <td>&#216; #[urltime_avg]#</td>
        <td>&#216; #[snippettime_avg]#</td>
        <td></td>
      </tr>
    </table>
    ::
    <h2>Local Search Host Tracker</h2>
    <p>This is a list of searches that had been requested from this' peer search interface</p>
    <p>Showing #[num]# entries from a total of #[total]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td>Requesting Host</td>
        <td>Count</td>
        <td>Queries Per Last Hour</td>
        <td>Access Dates</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[host]#</td>
        <td>#[count]#</td>
        <td>#[qph]#</td>
        <td>#{dates}##[date]# #{/dates}#</td>
      </tr>
      #{/list}#
      <tr class="TableHeader">
        <td></td>
        <td>&#931; #[total]#</td>
        <td>&#931; #[qph_sum]#</td>
        <td></td>
      </tr>
    </table>
    ::
    <h2>Remote Search Log</h2>
    <p>This is a list of searches that had been requested from remote peer search interface</p>
    <p>Showing #[num]# entries from a total of #[total]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td>Requesting Host</td>
        <td>Peer Name</td>
        <td>Date</td>
        <td>Expected Results</td>
        <td>Returned Results</td>
        <td>Used Time (ms)</td>
        <td>URL fetch (ms)</td>
        <td>Snippet comp (ms)</td>
        <td>Search Word Hashes</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[host]#</td>
        <td>#[peername]#</td>
        <td>#[date]#</td>
        <td>#[querycount]#</td>
        <td>#[resultcount]#</td>
        <td>#[resulttime]#</td>
        <td>#[urltime]#</td>
        <td>#[snippettime]#</td>
        <td>#[queryhashes]#</td>
      </tr>
      #{/list}#
      <tr class="TableHeader">
        <td></td>
        <td></td>
        <td></td>
        <td>&#216; #[querycount_avg]#</td>
        <td>&#216; #[resultcount_avg]#</td>
        <td>&#216; #[resulttime_avg]#</td>
        <td>&#216; #[urltime_avg]#</td>
        <td>&#216; #[snippettime_avg]#</td>
        <td></td>
      </tr>
    </table>
    ::
    <h2>Remote Search Host Tracker</h2>
    <p>This is a list of searches that had been requested from remote peer search interface</p>
    <p>Showing #[num]# entries from a total of #[total]# requests.</p>
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader">
        <td>Requesting Host</td>
        <td>Peer Name</td>
        <td>Count</td>
        <td>Queries Per Last Hour</td>
        <td>Access Dates</td>
      </tr>
      #{list}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[host]#</td>
        <td>#[peername]#</td>
        <td>#[count]#</td>
        <td>#[qph]#</td>
        <td>#{dates}##[date]# #{/dates}#</td>
      </tr>
      #{/list}#
      <tr class="TableHeader">
        <td></td>
        <td></td>
        <td>&#931; #[total]#</td>
        <td>&#931; #[qph_sum]#</td>
        <td></td>
      </tr>
    </table>
    #(/page)#
    #%env/templates/footer.template%#
  </body>
</html>
